inputs: {}
resources:
  Cloud_Volume_1:
    type: Cloud.Volume
    properties:
      capacityGb: 1
  Cloud_Volume_2:
    type: Cloud.Volume
    properties:
      capacityGb: 1
  Disk3:
    type: Cloud.Volume
    properties:
      capacityGb: 1
  web1:
    type: Cloud.Machine
    properties:
      count: 1
      image: Ubuntu
      constraints:
        - tag: 'cloud:vsphere'
      flavor: small
      attachedDisks:
        - source: '${Cloud_Volume_1.id}'
  web2:
    type: Cloud.Machine
    properties:
      count: 1
      image: Ubuntu
      constraints:
        - tag: 'cloud:vsphere'
      flavor: small
      attachedDisks:
        - source: '${Cloud_Volume_2.id}'
  web3:
    type: Cloud.Machine
    properties:
      count: 1
      image: Ubuntu
      constraints:
        - tag: 'cloud:vsphere'
      flavor: small
      cloudConfig: | 
        #cloud-config
        packages:
          - apache2
      attachedDisks:
        - source: '${Disk3.id}'
